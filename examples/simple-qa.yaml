# Simple Question-Answering Workflow
#
# This example demonstrates a basic linear workflow with a single agent
# that answers questions. It shows:
# - Basic workflow structure
# - Input parameters
# - Output schema validation
# - Simple routing to $end
# - MCP server configuration for web search
#
# Usage:
#   conductor run examples/simple-qa.yaml --input question="What is Python?"

workflow:
  name: simple-qa
  description: A simple question-answering workflow with a single agent
  version: "1.0.0"
  entry_point: answerer
  
  runtime:
    provider: copilot
    mcp_servers:
      web-search:
        command: sh
        args: ["-c", "MODE=stdio DEFAULT_SEARCH_ENGINE=bing exec npx -y open-websearch@latest"]
        tools: ["*"]
      context7:
        command: npx
        args: ["-y", "@upstash/context7-mcp@latest"]
        tools: ["*"]
      enghub:
        command: node
        args: ["/Users/jason/src/enghub-mcp-server-tools/dist/index.js"]
        tools: ["*"]
      s360:
        type: http
        url: https://mcp.vnext.s360.msftcloudes.com/
        tools: ["*"]

  input:
    question:
      type: string
      required: true
      description: The question to answer

agents:
  - name: answerer
    description: Answers the user's question clearly and concisely
    model: claude-haiku-4.5-latest
    prompt: |
      You are a helpful assistant. Please answer the following question 
      clearly and concisely:

      Question: {{ workflow.input.question }}

      Provide a direct answer without unnecessary preamble.
    output:
      answer:
        type: string
        description: The answer to the question
      confidence:
        type: string
        description: Confidence level (high, medium, low)
    routes:
      - to: $end

output:
  answer: "{{ answerer.output.answer }}"
  confidence: "{{ answerer.output.confidence }}"
